<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GestCyber - Gestion de Crise Cyber</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Navigation latÃ©rale -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>GestCyber</h2>
                <div class="crisis-status" id="crisis-status">
                    <span class="status-dot"></span>
                    <span class="status-text">CRISE</span>
                </div>
            </div>
            
            <ul class="nav-menu">
                <li><a href="#dashboard" class="nav-link active" data-page="dashboard">
                    <span class="nav-icon">ð</span> Dashboard
                </a></li>
                <li><a href="#actions" class="nav-link" data-page="actions">
                    <span class="nav-icon">â
</span> Actions
                </a></li>
                <li><a href="#communication" class="nav-link" data-page="communication">
                    <span class="nav-icon">ð¬</span> Communication
                </a></li>
                <li><a href="#investigation" class="nav-link" data-page="investigation">
                    <span class="nav-icon">ð</span> Investigation
                </a></li>
                <li><a href="#reconstruction" class="nav-link" data-page="reconstruction">
                    <span class="nav-icon">ð§</span> Reconstruction
                </a></li>
                <li><a href="#reporting" class="nav-link" data-page="reporting">
                    <span class="nav-icon">ð</span> Reporting
                </a></li>
            </ul>
            
            <div class="sidebar-footer">
                <button class="btn btn--primary btn--full-width" id="login-btn">Login</button>
                <button class="btn btn--secondary btn--full-width" id="logout-btn" style="display: none; margin-top: 10px;">Logout</button>
                <hr style="margin-top: 15px; margin-bottom: 15px; border-color: var(--color-border);">
                <button class="btn btn--primary btn--full-width" id="new-incident-btn">
                    ð¨ Nouveau Incident
                </button>
            </div>
        </nav>

        <!-- Contenu principal -->
        <main class="main-content">
            <!-- Dashboard -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h1>Dashboard - Centre de Crise</h1>
                    <div class="crisis-timer" id="crisis-timer">
                        <strong>DurÃ©e de crise : <span id="elapsed-time">25h 24min</span></strong>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <!-- Statut gÃ©nÃ©ral -->
                    <div class="card status-overview">
                        <div class="card__header">
                            <h3>Statut GÃ©nÃ©ral</h3>
                        </div>
                        <div class="card__body">
                            <div class="status-indicator critical">
                                <div class="status-circle"></div>
                                <div>
                                    <h4>CRISE MAJEURE</h4>
                                    <p>Cyberattaque Ransomware - HÃ´pital Nord-Ouest</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- MÃ©triques clÃ©s -->
                    <div class="card metrics">
                        <div class="card__header">
                            <h3>MÃ©triques ClÃ©s</h3>
                        </div>
                        <div class="card__body">
                            <div class="metrics-grid">
                                <div class="metric">
                                    <span class="metric-value">12</span>
                                    <span class="metric-label">Actions en cours</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-value">8</span>
                                    <span class="metric-label">Actions terminÃ©es</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-value">3</span>
                                    <span class="metric-label">SystÃ¨mes affectÃ©s</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-value">25</span>
                                    <span class="metric-label">Ãquipes mobilisÃ©es</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Phases ANSSI -->
                    <div class="card phases-anssi">
                        <div class="card__header">
                            <h3>Phases ANSSI</h3>
                        </div>
                        <div class="card__body">
                            <div class="phases-progress">
                                <div class="phase completed">
                                    <div class="phase-number">1</div>
                                    <div class="phase-info">
                                        <h4>Alerter, mobiliser et endiguer</h4>
                                        <span class="status status--success">TerminÃ©</span>
                                    </div>
                                </div>
                                <div class="phase active">
                                    <div class="phase-number">2</div>
                                    <div class="phase-info">
                                        <h4>Maintenir la confiance et comprendre</h4>
                                        <span class="status status--warning">En cours</span>
                                    </div>
                                </div>
                                <div class="phase">
                                    <div class="phase-number">3</div>
                                    <div class="phase-info">
                                        <h4>Relancer les activitÃ©s et durcir</h4>
                                        <span class="status status--info">Ã venir</span>
                                    </div>
                                </div>
                                <div class="phase">
                                    <div class="phase-number">4</div>
                                    <div class="phase-info">
                                        <h4>Tirer les leÃ§ons et capitaliser</h4>
                                        <span class="status status--info">Ã venir</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline rÃ©cente -->
                    <div class="card timeline-recent">
                        <div class="card__header">
                            <h3>ÃvÃ©nements RÃ©cents</h3>
                        </div>
                        <div class="card__body">
                            <div class="timeline">
                                <div class="timeline-item critical">
                                    <div class="timeline-time">09:45</div>
                                    <div class="timeline-content">
                                        <strong>Isolation des serveurs de donnÃ©es patients</strong>
                                        <p>DÃ©connexion rÃ©seau effectuÃ©e par l'Ã©quipe Cyber-IT</p>
                                    </div>
                                </div>
                                <div class="timeline-item warning">
                                    <div class="timeline-time">09:30</div>
                                    <div class="timeline-content">
                                        <strong>Communication aux autoritÃ©s</strong>
                                        <p>ANSSI et CNIL informÃ©es de l'incident</p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-time">09:15</div>
                                    <div class="timeline-content">
                                        <strong>Activation cellule de crise</strong>
                                        <p>Ãquipes stratÃ©giques mobilisÃ©es</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gestion des Actions -->
            <div id="actions" class="page">
                <div class="page-header">
                    <h1>Gestion des Actions</h1>
                    <button class="btn btn--primary" id="new-action-btn">+ Nouvelle Action</button>
                </div>

                <div class="actions-filters">
                    <select class="form-control" id="filter-phase">
                        <option value="">Toutes les phases</option>
                        <option value="1">Phase 1 - Alerter et endiguer</option>
                        <option value="2">Phase 2 - Maintenir confiance</option>
                        <option value="3">Phase 3 - Relancer activitÃ©s</option>
                        <option value="4">Phase 4 - Capitaliser</option>
                    </select>
                    
                    <select class="form-control" id="filter-priority">
                        <option value="">Toutes prioritÃ©s</option>
                        <option value="P0">P0 - Critique</option>
                        <option value="P1">P1 - Haute</option>
                        <option value="P2">P2 - Moyenne</option>
                        <option value="P3">P3 - Basse</option>
                    </select>
                    
                    <select class="form-control" id="filter-status">
                        <option value="">Tous statuts</option>
                        <option value="todo">Ã faire</option>
                        <option value="in-progress">En cours</option>
                        <option value="blocked">BloquÃ©</option>
                        <option value="done">TerminÃ©</option>
                    </select>
                </div>

                <div class="actions-list" id="actions-list">
                    <!-- Les actions seront gÃ©nÃ©rÃ©es par JavaScript -->
                </div>
            </div>

            <!-- Communication -->
            <div id="communication" class="page">
                <div class="page-header">
                    <h1>Centre de Communication</h1>
                </div>

                <div class="communication-grid">
                    <div class="card main-courante">
                        <div class="card__header">
                            <h3>Main Courante</h3>
                            <button class="btn btn--secondary btn--sm" id="add-entry-btn">+ Ajouter</button>
                        </div>
                        <div class="card__body">
                            <div class="entries-list" id="entries-list">
                                <!-- EntrÃ©es gÃ©nÃ©rÃ©es par JS -->
                            </div>
                        </div>
                    </div>

                    <div class="card contacts">
                        <div class="card__header">
                            <h3>Annuaire de Crise</h3>
                        </div>
                        <div class="card__body">
                            <div class="contacts-list">
                                <div class="contact-item">
                                    <strong>ANSSI - Centre de veille</strong>
                                    <p>ð 0800 00 24 24</p>
                                </div>
                                <div class="contact-item">
                                    <strong>CNIL - Signalement</strong>
                                    <p>ð§ notifications@cnil.fr</p>
                                </div>
                                <div class="contact-item">
                                    <strong>Direction GÃ©nÃ©rale</strong>
                                    <p>ð 01 23 45 67 89</p>
                                </div>
                                <div class="contact-item">
                                    <strong>Responsable SI</strong>
                                    <p>ð 06 12 34 56 78</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card templates">
                        <div class="card__header">
                            <h3>Templates de Communication</h3>
                        </div>
                        <div class="card__body">
                            <div class="templates-list">
                                <button class="template-btn">ð§ Notification autoritÃ©s</button>
                                <button class="template-btn">ð± Communication interne</button>
                                <button class="template-btn">ð° CommuniquÃ© presse</button>
                                <button class="template-btn">ð¥ Information patients</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Investigation -->
            <div id="investigation" class="page">
                <div class="page-header">
                    <h1>Investigation NumÃ©rique</h1>
                </div>

                <div class="investigation-grid">
                    <div class="card attack-timeline">
                        <div class="card__header">
                            <h3>Chronologie de l'Attaque</h3>
                        </div>
                        <div class="card__body">
                            <div class="attack-events">
                                <div class="attack-event">
                                    <div class="event-time">11/06 - 06:30</div>
                                    <div class="event-desc">
                                        <strong>Point d'entrÃ©e initial</strong>
                                        <p>Email de phishing - utilisateur.martin@hopital.fr</p>
                                    </div>
                                </div>
                                <div class="attack-event">
                                    <div class="event-time">11/06 - 07:15</div>
                                    <div class="event-desc">
                                        <strong>Escalade de privilÃ¨ges</strong>
                                        <p>Exploitation vulnÃ©rabilitÃ© Windows</p>
                                    </div>
                                </div>
                                <div class="attack-event">
                                    <div class="event-time">11/06 - 08:00</div>
                                    <div class="event-desc">
                                        <strong>DÃ©ploiement ransomware</strong>
                                        <p>Chiffrement des serveurs de donnÃ©es</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card ioc-list">
                        <div class="card__header">
                            <h3>Indicateurs de Compromission (IoC)</h3>
                        </div>
                        <div class="card__body">
                            <div class="ioc-items">
                                <div class="ioc-item">
                                    <strong>Hash MD5:</strong>
                                    <code>d41d8cd98f00b204e9800998ecf8427e</code>
                                </div>
                                <div class="ioc-item">
                                    <strong>IP C&C:</strong>
                                    <code>185.159.157.13</code>
                                </div>
                                <div class="ioc-item">
                                    <strong>Domaine:</strong>
                                    <code>evil-command.onion</code>
                                </div>
                                <div class="ioc-item">
                                    <strong>Fichiers modifiÃ©s:</strong>
                                    <code>*.locked</code>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card affected-systems">
                        <div class="card__header">
                            <h3>PÃ©rimÃ¨tre de Compromission</h3>
                        </div>
                        <div class="card__body">
                            <div class="systems-status">
                                <div class="system-item compromised">
                                    <span class="system-name">Serveurs donnÃ©es patients</span>
                                    <span class="status status--error">Compromis</span>
                                </div>
                                <div class="system-item compromised">
                                    <span class="system-name">SystÃ¨me facturation</span>
                                    <span class="status status--error">Compromis</span>
                                </div>
                                <div class="system-item isolated">
                                    <span class="system-name">Messagerie interne</span>
                                    <span class="status status--warning">IsolÃ©</span>
                                </div>
                                <div class="system-item safe">
                                    <span class="system-name">SystÃ¨me de sauvegarde</span>
                                    <span class="status status--success">Sain</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reconstruction -->
            <div id="reconstruction" class="page">
                <div class="page-header">
                    <h1>Plan de Reconstruction</h1>
                </div>

                <div class="reconstruction-grid">
                    <div class="card recovery-plan">
                        <div class="card__header">
                            <h3>Plan de Remise en Service</h3>
                        </div>
                        <div class="card__body">
                            <div class="recovery-steps">
                                <div class="recovery-step pending">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>Durcissement serveurs</h4>
                                        <p>Application des correctifs de sÃ©curitÃ©</p>
                                        <span class="status status--info">En attente</span>
                                    </div>
                                </div>
                                <div class="recovery-step pending">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>Restauration donnÃ©es</h4>
                                        <p>RÃ©cupÃ©ration depuis sauvegardes saines</p>
                                        <span class="status status--info">En attente</span>
                                    </div>
                                </div>
                                <div class="recovery-step pending">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>Tests de validation</h4>
                                        <p>VÃ©rification intÃ©gritÃ© et sÃ©curitÃ©</p>
                                        <span class="status status--info">En attente</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card rto-rpo">
                        <div class="card__header">
                            <h3>Objectifs de RÃ©cupÃ©ration</h3>
                        </div>
                        <div class="card__body">
                            <div class="objectives-grid">
                                <div class="objective">
                                    <h4>RTO (Recovery Time Objective)</h4>
                                    <div class="objective-value">
                                        <span class="target">Cible: 24h</span>
                                        <span class="current critical">Actuel: 25h 24min</span>
                                    </div>
                                </div>
                                <div class="objective">
                                    <h4>RPO (Recovery Point Objective)</h4>
                                    <div class="objective-value">
                                        <span class="target">Cible: 4h</span>
                                        <span class="current ok">Actuel: 2h 15min</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card backup-status">
                        <div class="card__header">
                            <h3>Ãtat des Sauvegardes</h3>
                        </div>
                        <div class="card__body">
                            <div class="backup-items">
                                <div class="backup-item">
                                    <span class="backup-name">Base patients - 10/06 23:45</span>
                                    <span class="status status--success">IntÃ¨gre</span>
                                </div>
                                <div class="backup-item">
                                    <span class="backup-name">Facturation - 10/06 23:30</span>
                                    <span class="status status--success">IntÃ¨gre</span>
                                </div>
                                <div class="backup-item">
                                    <span class="backup-name">Configuration - 10/06 22:00</span>
                                    <span class="status status--success">IntÃ¨gre</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reporting -->
            <div id="reporting" class="page">
                <div class="page-header">
                    <h1>Reporting et MÃ©triques</h1>
                </div>

                <div class="reporting-grid">
                    <div class="card progress-chart">
                        <div class="card__header">
                            <h3>Progression de la Crise</h3>
                        </div>
                        <div class="card__body">
                            <canvas id="progressChart" width="400" height="200"></canvas>
                        </div>
                    </div>

                    <div class="card actions-chart">
                        <div class="card__header">
                            <h3>RÃ©partition des Actions</h3>
                        </div>
                        <div class="card__body">
                            <canvas id="actionsChart" width="400" height="200"></canvas>
                        </div>
                    </div>

                    <div class="card reports-list">
                        <div class="card__header">
                            <h3>Rapports Disponibles</h3>
                        </div>
                        <div class="card__body">
                            <div class="reports-items">
                                <button class="report-btn">ð Rapport de situation</button>
                                <button class="report-btn">ð MÃ©triques de performance</button>
                                <button class="report-btn">ð Rapport d'investigation</button>
                                <button class="report-btn">ð RETEX prÃ©liminaire</button>
                                <button class="report-btn">ð Export autoritÃ©s</button>
                            </div>
                        </div>
                    </div>

                    <div class="card kpi-summary">
                        <div class="card__header">
                            <h3>Indicateurs ClÃ©s</h3>
                        </div>
                        <div class="card__body">
                            <div class="kpi-grid">
                                <div class="kpi-item">
                                    <span class="kpi-label">Temps de dÃ©tection</span>
                                    <span class="kpi-value">45 min</span>
                                </div>
                                <div class="kpi-item">
                                    <span class="kpi-label">Temps de rÃ©action</span>
                                    <span class="kpi-value">15 min</span>
                                </div>
                                <div class="kpi-item">
                                    <span class="kpi-label">Actions crÃ©Ã©es</span>
                                    <span class="kpi-value">20</span>
                                </div>
                                <div class="kpi-item">
                                    <span class="kpi-label">Taux de rÃ©solution</span>
                                    <span class="kpi-value">40%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal nouveau incident -->
    <div id="incident-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>DÃ©claration d'Incident</h3>
                <button class="modal-close" id="close-incident-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="incident-form">
                    <div class="form-group">
                        <label class="form-label" for="incident-titre">Titre</label>
                        <input type="text" id="incident-titre" class="form-control" placeholder="Titre de l'incident..." required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Type d'incident</label>
                        <select id="incident-type" class="form-control" required>
                            <option value="">SÃ©lectionner...</option>
                            <option value="ransomware">Ransomware</option>
                            <option value="data-breach">Fuite de donnÃ©es</option>
                            <option value="ddos">Attaque DDoS</option>
                            <option value="malware">Malware</option>
                            <option value="other">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Niveau d'urgence</label>
                        <select id="incident-urgence" class="form-control" required>
                            <option value="normal">Normal</option>
                            <option value="alerte">Alerte</option>
                            <option value="crise">Crise</option>
                            <option value="critique">Critique</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea id="incident-description" class="form-control" rows="4" placeholder="Description détaillée de l'incident..." required></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-incident">Annuler</button>
                        <button type="submit" class="btn btn--primary">DÃ©clarer l'Incident</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal nouvelle action -->
    <div id="action-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nouvelle Action</h3>
                <button class="modal-close" id="close-action-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="action-form">
                    <div class="form-group">
                        <label class="form-label">Titre</label>
                        <input type="text" class="form-control" placeholder="Titre de l'action..." required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phase ANSSI</label>
                        <select class="form-control" required>
                            <option value="1">Phase 1 - Alerter et endiguer</option>
                            <option value="2">Phase 2 - Maintenir confiance</option>
                            <option value="3">Phase 3 - Relancer activitÃ©s</option>
                            <option value="4">Phase 4 - Capitaliser</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">PrioritÃ©</label>
                        <select class="form-control" required>
                            <option value="P0">P0 - Critique</option>
                            <option value="P1">P1 - Haute</option>
                            <option value="P2">P2 - Moyenne</option>
                            <option value="P3">P3 - Basse</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ãquipe responsable</label>
                        <select class="form-control" required>
                            <option value="strategique">Cellule StratÃ©gique</option>
                            <option value="cyber-it">Ãquipes Cyber & IT</option>
                            <option value="metiers">MÃ©tiers</option>
                            <option value="communication">Communication</option>
                            <option value="juridique">Juridique</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" rows="3" placeholder="Description dÃ©taillÃ©e..." required></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-action">Annuler</button>
                        <button type="submit" class="btn btn--primary">CrÃ©er l'Action</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Connexion</h3>
                <button class="modal-close" id="close-login-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="login-form">
                    <div id="login-error-message" class="form-error-message" style="color: var(--color-error); margin-bottom: var(--space-16); text-align: center; display: none;"></div>
                    <div class="form-group">
                        <label class="form-label" for="login-email">Email</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Votre email..." required autocomplete="email">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="login-password">Mot de passe</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Votre mot de passe..." required autocomplete="current-password">
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--secondary" id="cancel-login-modal">Annuler</button>
                        <button type="submit" class="btn btn--primary">Se connecter</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
